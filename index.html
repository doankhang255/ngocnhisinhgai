<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Thi·ªáp t√¨nh y√™u üíå</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Nunito:wght@400;600&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
<style>
:root{
  --brand:#e94e77;
  --ink:#2f2a2a;
  --muted:#6b5555;
  --paper:#ffffff;
  --cover:#fff0f6;
  --edge:#f8c7d4;
  --bg:#fff7fa;
}

/* ========== B·ªë c·ª•c t·ªïng th·ªÉ ========== */
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100dvh;
  display:grid;
  place-items:center;
  background:var(--bg);
  color:var(--ink);
  font-family:"Nunito","Segoe UI",system-ui,sans-serif;
  padding:24px;
}

/* ========== Tr√°i tim ƒë·ªông ========== */
#pinkboard{
  position:absolute;
  top:50%; left:50%;
  width:600px; height:600px;
  transform:translate(-50%,-50%);
  animation:beat 1.5s ease infinite;
  cursor:pointer;
  z-index:2;
}
@keyframes beat{
  0%,100%{transform:translate(-50%,-50%) scale(1);}
  30%{transform:translate(-50%,-50%) scale(.9);}
}
#openText{
  position:absolute; top:48%; left:50%; transform:translate(-50%,-50%);
  font-family:"Dancing Script", cursive; font-size:20px; font-weight:800;
  color:#ffb6c1; text-shadow:0 0 14px rgba(255,105,180,.6);
  cursor:pointer; z-index:3; letter-spacing:1px;
}

/* ========== Thi·ªáp ch√≠nh ========== */
.hidden{display:none;}
.stage{perspective:1600px;}
.card{
  position:relative;
  width:min(520px, 96vw);
  height:520px;
  background:var(--paper);
  border-radius:18px;
  box-shadow:0 28px 70px rgba(0,0,0,.18);
  border:1px solid var(--edge);
  overflow:hidden;
}
.inner{position:absolute; inset:0; display:grid; grid-template-columns:1fr 1fr; z-index:1;}
.page{padding:28px 26px;}
.left{
  background:radial-gradient(900px 260px at -10% 0%, rgba(233,78,119,.08), transparent 60%), var(--paper);
}
.right{
  background:radial-gradient(900px 260px at 110% 0%, rgba(233,78,119,.08), transparent 60%), var(--paper);
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  justify-content:center;
  scrollbar-width:thin;
}
.page.right::-webkit-scrollbar{width:6px;}
.page.right::-webkit-scrollbar-thumb{background:#e9a7b3;border-radius:6px;}
.page.right::-webkit-scrollbar-track{background:transparent;}

.ribbon{display:inline-block;padding:6px 12px;border-radius:999px;background:rgba(233,78,119,.12);color:var(--brand);font-weight:800;letter-spacing:.3px;font-size:12px;}
h1{font-size:36px;line-height:1.15;margin:12px 0 8px}
.lead{color:var(--muted);font-size:18px;margin:0 0 12px}
.section-title{text-transform:uppercase;font-size:12px;letter-spacing:.5px;color:var(--muted);margin:14px 0 6px}
.big{font-size:22px;font-weight:800;line-height:1.35;}
.note{color:var(--muted);margin-top:6px}
.title-love{
  font-family: "Pacifico", cursive;
  color:#e94e77;
  font-size:28px;
  font-weight:700;
  text-shadow: 0 0 6px rgba(233,78,119,0.2);
}

/* ========== ·∫¢nh g√≥c khi m·ªü thi·ªáp ========== */
.cover-inner .corner-image-open {
  position: relative;       /* üëà ƒë·ªïi t·ª´ absolute sang relative ƒë·ªÉ ·∫£nh n·∫±m ngay d∆∞·ªõi ch·ªØ */
  margin-top: 50px;         /* üëà c√°ch d√≤ng ch·ªØ 1 ch√∫t */
  display: flex;
  justify-content: center;  /* üëà cƒÉn gi·ªØa ·∫£nh */
}

.cover-inner .corner-image-open img {
  width: 200px;             /* üëà ch·ªânh k√≠ch th∆∞·ªõc ·∫£nh t√πy th√≠ch */
  height: auto;
  border-radius: 12px;
  opacity: 0.95;
  transition: transform 0.3s ease;
}

.cover-inner .corner-image-open img:hover {
  transform: scale(1.05);
}

/* ========== B√¨a g·∫≠p ========== */
.cover{
  position:absolute; top:0; bottom:0; right:0; width:50%;
  transform-origin:left center; transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.2,.7,.2,1);
  background:var(--cover);
  border-left:1px solid var(--edge);
  box-shadow:inset 0 0 0 1px var(--edge);
  z-index:5;
}
.cover-outer,.cover-inner{
  position:absolute; inset:0; backface-visibility:hidden;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  text-align:center; padding:32px;
}
.cover-outer{
  background:radial-gradient(1200px 300px at 50% -10%, rgba(233,78,119,.12), transparent 60%), var(--cover);
}
.cover-inner{transform:rotateY(180deg); background:linear-gradient(180deg, #fff, #fff7fa);}
.card.open .cover{transform:rotateY(-180deg);}

/* ========== PIN overlay ========== */
.pin-overlay-left{
  position:absolute;
  top: 43%;
  left: 0;
  width: 50%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:8;
  pointer-events:auto;
}
.card.open .pin-overlay-left{opacity:0; pointer-events:none; transition:opacity .35s ease;}
.pin-box{
  background:#fff;
  border:1px solid rgba(0,0,0,.08);
  border-radius:16px;
  width: 260px;
  height: 280px;
  padding:14px 12px;
  text-align:center;
  user-select:none;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.pin-title{ font-weight:700; color:#e94e77; letter-spacing:.3px; font-size:15px;}
.pin-visual{display:flex;justify-content:center;gap:8px;margin:8px 0 10px;}
.pin-digit{
  width:32px; height:42px; border-radius:10px;
  border:2px solid rgba(0,0,0,.15);
  display:flex; align-items:center; justify-content:center;
  font-weight:800; font-size:18px; color:#1f2937;
}
.pin-digit.filled{border-color:#e94e77;}
.keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;max-width:240px;margin:0 auto;}
.key{
  padding:8px 0; font-size:16px; font-weight:700; background:#fff;
  border:1px solid rgba(0,0,0,.1); border-radius:10px; cursor:pointer;
  box-shadow:0 2px 0 rgba(0,0,0,.05);
}
.key:hover{background:#fff7fa;}
.key.accent{background:var(--brand);color:#fff;border-color:transparent;}
.msg{margin-top:6px;color:var(--muted);font-size:13px;}

/* In lu√¥n m·ªü thi·ªáp */
@media print{
  body{background:#fff}
  .card{box-shadow:none; border:1px solid #ddd}
  .cover{transform:rotateY(-180deg) !important}
  .pin-overlay-left{display:none!important;}
}

/* Mobile */
@media (max-width:740px){
  .card{height:560px}
}
</style>
</head>
<body>

<!-- Tr√°i tim ƒë·ªông -->
<canvas id="pinkboard"></canvas>
<div id="openText">ch·∫°m v√¥ ƒë√¢y ·ª£ üíå</div>

<!-- Thi·ªáp -->
<div class="stage hidden" id="inviteStage">
  <div class="card" id="card">
    <div class="inner">
      <div class="page left">
        <span class="ribbon">THI·ªÜP T√åNH C·ª§M</span>
        <h1 class="title-love">G·ª≠i ƒë·∫øn Nh√≠ iu c·ª•a anh</h1>
        <p class="lead">C·∫£m ∆°n em ƒë√£ l√† m·ªôt ph·∫ßn cu·ªôc s·ªëng c·ªßa anh  ‚Çä¬∑ ÕüÕüÕûÕû‚û≥‚ù• ‚ô•‚Äø‚ô•</p>
      </div>

      <div class="page right">
        <div class="section-title">L·ªùi nh·∫Øn</div>
        <div><h4>Ch√∫c m·ª´ng ng√†y ph·ª• n·ªØ Vi·ªát Nam 20/10! v√† c≈©ng 2 th√°ng m√¨nh b√™n nhau r·ªìi. Ng√†y h√¥m nay anh mu·ªën d√†nh t·∫•t c·∫£ nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t ƒë·∫øn em, ng∆∞·ªùi con g√°i m√† anh y√™u th∆∞∆°ng. 
          C·∫£m ∆°n em ƒë√£ b√™n anh trong th·ªùi gian qua (c·ª• th·ªÉ 2 th√°ng h·∫π h·∫π). C·∫£m ∆°n em lu√¥n hi·ªÉu cho anh, em lu√¥n l√† ngu·ªìn c·∫£m h·ª©ng v√† l√Ω do anh lu√¥n c·ªë g·∫Øng ƒë·ªÉ tr·ªü th√†nh ng∆∞·ªùi t·ªët h∆°n.
          <br>Ch√∫c em ng√†y m·ªõi th·∫≠t vui v·∫ª v√† tr√†n ƒë·∫ßy y√™u th∆∞∆°ng.</h4></div>
        <p class="note">T·ª´ anh, ng∆∞·ªùi lu√¥n y√™u th∆∞∆°ng em ‚ô•</p>
      </div>
    </div>

    <!-- PIN overlay -->
    <div class="pin-overlay-left" id="pinOverlay">
      <div class="pin-box pin-theme" aria-label="Nh·∫≠p m√£ PIN">
        <div class="pin-title">NH√ç IU</div>
        <div class="pin-visual" id="pinDots"></div>
        <div class="keypad" id="keypad">
          <button class="key" data-key="1">1</button><button class="key" data-key="2">2</button><button class="key" data-key="3">3</button>
          <button class="key" data-key="4">4</button><button class="key" data-key="5">5</button><button class="key" data-key="6">6</button>
          <button class="key" data-key="7">7</button><button class="key" data-key="8">8</button><button class="key" data-key="9">9</button>
          <button class="key" data-action="clear">‚å´</button><button class="key" data-key="0">0</button><button class="key accent" data-action="ok">OK</button>
        </div>
        <div class="msg" id="msg">‚ô•</div>
      </div>
    </div>

    <!-- B√¨a -->
    <div class="cover" id="cover">
      <div class="cover-outer">
        <p class="lead">nh·∫≠p m·∫≠t kh·∫©u xongg b·∫•m t√≠p v√¥ ƒë√¢y n√® ÔÆ©Ÿ®ŸÄ‚ô°ÔÆ©Ÿ®ŸÄ</p>
      </div>
      <div class="cover-inner">
        <p class="lead">‚ô• hello h√≠ h√≠ ƒë·ªçc n·ªôi dung b√™n tr√°i √≥oo ‚ô•</p>
          <div class="corner-image-open">
            <img src="./anh2.jpg" alt="·∫¢nh trang tr√≠">
          </div>
      </div>
    </div>
  </div>
</div>

<script>
const openText=document.getElementById('openText');
const canvasHeart=document.getElementById('pinkboard');
const stage=document.getElementById('inviteStage');
const card=document.getElementById('card');
openText.addEventListener('click',()=>{
  canvasHeart.style.display='none';
  openText.style.display='none';
  stage.classList.remove('hidden');
});

/* PIN logic */
const PIN="2308";
const msg=document.getElementById('msg');
const pinDots=document.getElementById('pinDots');
const keypad=document.getElementById('keypad');
let buffer="";

function buildDigits(){
  pinDots.innerHTML="";
  for(let i=0;i<PIN.length;i++){
    const d=document.createElement('div');
    d.className='pin-digit';
    pinDots.appendChild(d);
  }
}
buildDigits();
function updateVisual(){
  [...pinDots.children].forEach((el,i)=>{
    el.classList.toggle('filled',i<buffer.length);
    el.innerHTML=i<buffer.length?'<div class="dot"></div>':'';
  });
}
function tryUnlock(){
  if(buffer===PIN){
    msg.textContent="Hy v·ªçng l·∫ßn ƒë·∫ßu ti√™n ƒë√∫ng lunn";
    msg.style.color="green";
    card.classList.add('open');
  }else{
    msg.textContent="‚ùå √Åaaa c√≥ ƒë·ª©a kh iu!";
    msg.style.color="red";
    buffer="";
    updateVisual();
  }
}
keypad.addEventListener('click',(e)=>{
  const t=e.target.closest('.key'); if(!t)return;
  const key=t.dataset.key,act=t.dataset.action;
  if(key){if(buffer.length<PIN.length){buffer+=key;updateVisual();}}
  else if(act==="clear"){buffer=buffer.slice(0,-1);updateVisual();}
  else if(act==="ok"){tryUnlock();}
});

/* Hi·ªáu ·ª©ng tim */
var settings={particles:{length:700,duration:1.5,velocity:100,effect:-0.85,size:24}};
(function(){
  var Point=function(x,y){this.x=x||0;this.y=y||0};
  Point.prototype.clone=function(){return new Point(this.x,this.y)};
  Point.prototype.length=function(len){if(len===undefined)return Math.sqrt(this.x*this.x+this.y*this.y);this.normalize();this.x*=len;this.y*=len;return this;};
  Point.prototype.normalize=function(){var l=this.length();this.x/=l;this.y/=l;return this;};
  var Particle=function(){this.position=new Point();this.velocity=new Point();this.acceleration=new Point();this.age=0;};
  Particle.prototype.initialize=function(x,y,dx,dy){this.position.x=x;this.position.y=y;this.velocity.x=dx;this.velocity.y=dy;this.acceleration.x=dx*settings.particles.effect;this.acceleration.y=dy*settings.particles.effect;this.age=0;};
  Particle.prototype.update=function(d){this.position.x+=this.velocity.x*d;this.position.y+=this.velocity.y*d;this.velocity.x+=this.acceleration.x*d;this.velocity.y+=this.acceleration.y*d;this.age+=d;};
  Particle.prototype.draw=function(ctx,img){var ease=t=>--t*t*t+1;var size=img.width*ease(this.age/settings.particles.duration);ctx.globalAlpha=1-this.age/settings.particles.duration;ctx.drawImage(img,this.position.x-size/2,this.position.y-size/2,size,size);};
  var ParticlePool=function(l){var p=new Array(l);for(let i=0;i<l;i++)p[i]=new Particle();var fa=0,ff=0,d=settings.particles.duration;this.add=function(x,y,dx,dy){p[ff].initialize(x,y,dx,dy);ff=(ff+1)%l;if(fa===ff)fa=(fa+1)%l;};this.update=function(dt){if(fa<ff){for(let i=fa;i<ff;i++)p[i].update(dt);}else{for(let i=fa;i<l;i++)p[i].update(dt);for(let i=0;i<ff;i++)p[i].update(dt);}while(p[fa].age>=d&&fa!==ff){fa=(fa+1)%l;}};this.draw=function(ctx,img){if(fa<ff){for(let i=fa;i<ff;i++)p[i].draw(ctx,img);}else{for(let i=fa;i<l;i++)p[i].draw(ctx,img);for(let i=0;i<ff;i++)p[i].draw(ctx,img);}};};
  (function(cvs){var ctx=cvs.getContext('2d');var parts=new ParticlePool(settings.particles.length);var rate=settings.particles.length/settings.particles.duration;var time;function heart(t){return new Point(160*Math.pow(Math.sin(t),3),130*Math.cos(t)-50*Math.cos(2*t)-20*Math.cos(3*t)-10*Math.cos(4*t)+25);}
    var img=(function(){var c=document.createElement('canvas'),cx=c.getContext('2d');c.width=settings.particles.size;c.height=settings.particles.size;function to(t){var p=heart(t);p.x=settings.particles.size/3+p.x*settings.particles.size/550;p.y=settings.particles.size/3-p.y*settings.particles.size/550;return p;}
    cx.beginPath();var t=-Math.PI,p=to(t);cx.moveTo(p.x,p.y);while(t<Math.PI){t+=0.01;p=to(t);cx.lineTo(p.x,p.y);}cx.closePath();cx.fillStyle='#FF6F91';cx.fill();var img=new Image();img.src=c.toDataURL();return img;})();
    function render(){requestAnimationFrame(render);var nt=new Date().getTime()/1000,dt=nt-(time||nt);time=nt;ctx.clearRect(0,0,cvs.width,cvs.height);var amt=rate*dt;for(var i=0;i<amt;i++){var pos=heart(Math.PI-2*Math.PI*Math.random());var dir=pos.clone().length(settings.particles.velocity);parts.add(cvs.width/2+pos.x,cvs.height/2-pos.y,dir.x,-dir.y);}parts.update(dt);parts.draw(ctx,img);}
    function resize(){cvs.width=cvs.clientWidth;cvs.height=cvs.clientHeight;}
    window.onresize=resize;setTimeout(function(){resize();render();},10);
  })(document.getElementById('pinkboard'));
})();
</script>
</body>
</html>







